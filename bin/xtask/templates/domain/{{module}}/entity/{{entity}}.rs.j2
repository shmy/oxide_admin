use bon::Builder;
use serde::Serialize;
use sqlx::prelude::FromRow;

use crate::{{module}}::value_object::{{entity}}_id::{{entity | pascal_case}}Id;

#[derive(Debug, Builder, Serialize, FromRow)]
#[readonly::make]
pub struct {{entity | pascal_case}} {
    pub id: {{entity | pascal_case}}Id,
    {%- for field in domain_fields %}
    pub {{field.name}}: {{field.type}},
    {%- endfor %}
}

impl {{entity | pascal_case}} {
    {%- for field in domain_fields %}
    pub fn update_{{field.name}}(&mut self, {{field.name}}: {{field.type}}) {
        self.{{field.name}} = {{field.name}};
    }
    {%- endfor %}
}
